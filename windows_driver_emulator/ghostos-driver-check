#!/bin/bash
# Heck-CheckOS Windows Driver Emulator - Check Driver Compatibility
# Usage: heckcheckos-driver-check <driver_path>

if [ $# -lt 1 ]; then
    echo "Usage: heckcheckos-driver-check <driver_path>"
    echo ""
    echo "Check if a Windows driver is compatible with the emulator"
    echo ""
    echo "Example:"
    echo "  heckcheckos-driver-check /path/to/driver.sys"
    exit 1
fi

DRIVER_PATH="$1"

if [ ! -f "$DRIVER_PATH" ]; then
    echo "Error: Driver file not found: $DRIVER_PATH"
    exit 1
fi

python3 /opt/heckcheckos/windows_driver_emulator/emulator.py check "$DRIVER_PATH"
